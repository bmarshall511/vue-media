(function(e){function t(t){for(var s,n,c=t[0],o=t[1],l=t[2],u=0,f=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&f.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,c=1;c<r.length;c++){var o=r[c];0!==i[o]&&(s=!1)}s&&(a.splice(t--,1),e=n(n.s=r[0]))}return e}var s={},i={app:0},a=[];function n(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=s,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vue-media/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1517:function(e,t,r){e.exports=r.p+"img/metacritic-logo.d754e638.svg"},"177a":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("MediaList")],1)},a=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("MediaListFilter",{attrs:{categories:e.sortedCategories,actors:e.sortedActors,directors:e.sortedDirectors,mpaas:e.sortedMPAAs,series:e.sortedSeries,defaultCategories:e.selectedCategories,defaultActors:e.selectedActors,defaultDirectors:e.selectedDirectors,defaultMPAAs:e.selectedMPAAs,defaultSeries:e.selectedSeries,defaultSorting:e.selectedSorting,defaultSearch:e.textSearch},on:{"sort-selected":e.sortSelected,"category-selected":e.categoriesSelected,"actors-selected":e.actorSelected,"directors-selected":e.directorSelected,"mpaas-selected":e.mpaaSelected,"series-selected":e.seriesSelected,"reset-filters":e.resetFilters,"search-query":e.searchQuery}}),r("ul",e._l(e.sortedMedia,(function(t){return r("MediaListItem",{key:t.key,attrs:{media:t,selected:e.selected===t.key},on:{clicked:e.clicked}})})),1)],1)},c=[],o=(r("99af"),r("4de4"),r("4160"),r("caad"),r("c975"),r("d81d"),r("45fc"),r("d3b7"),r("ac1f"),r("6062"),r("2532"),r("3ca3"),r("5319"),r("1276"),r("498a"),r("159b"),r("ddb0"),r("2909")),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"media",class:{"is-active":e.selected,watched:e.media.watched}},[s("div",{staticClass:"media__teaser"},[s("div",{staticClass:"media__poster"},[s("img",{staticClass:"media__img",attrs:{src:e.media.poster},on:{click:e.select}}),e.media.watched?s("div",{staticClass:"media__watched"},[e._v(" "+e._s(e.media.watched)),s("span",[e._v("/5")])]):e._e(),s("div",{staticClass:"media__imdb-rating"},[s("img",{attrs:{src:r("f02d"),alt:"IMDb Rating"}}),e._v(" "+e._s(e.media.imdbRating)),s("span",[e._v("/10")])]),s("div",{staticClass:"media__metascore"},[s("img",{attrs:{src:r("1517"),alt:"Metacritic Rating"}}),e._v(" "+e._s(e.media.metascore)+" ")])]),s("h3",[e._v(e._s(e.media.title)+" ("+e._s(e.media.released.getFullYear())+")")]),s("dl",[s("dt",[e._v("Rating")]),s("dd",[e._v(e._s(e.media.mpaa))]),s("dt",[e._v("Length")]),s("dd",[e._v(e._s(e.duration)+"min")])]),s("p",[e._v(e._s(e.media.excerpt))]),s("ul",{staticClass:"categories"},e._l(e.media.categories.keys(),(function(t){return s("li",{key:t},[e._v(" "+e._s(e.media.categories[t])+" ")])})),0),e.selected?s("div",{staticClass:"media__buttons"},[s("a",{staticClass:"button yellow",attrs:{href:"https://www.imdb.com/title/"+e.media.imdb+"/"}},[e._v(" IMDb ")]),s("a",{staticClass:"button red",attrs:{href:"https://www.youtube.com/watch?v="+e.media.youtube+"/"}},[e._v(" YouTube ")]),s("button",{staticClass:"button",on:{click:e.reset}},[e._v("Close")])]):e._e()]),e.selected?s("div",{staticClass:"media__content"},[s("div",[e.selected?s("iframe",{attrs:{src:"https://www.youtube.com/embed/"+e.media.youtube+"?&autoplay=1",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()])]):e._e()])},d=[],u={name:"MediaListItem",props:{media:{type:Object,required:!0},selected:{type:Boolean}},computed:{duration:function(){var e=Math.floor(this.media.duration/60),t=this.media.duration%60;return e=e<10?"0"+e:e,t=t<10?"0"+t:t,"".concat(e,":").concat(t)}},methods:{select:function(){this.$emit("clicked",this.media.key)},reset:function(){this.$emit("clicked",!1)}}},f=u,p=(r("ef3e"),r("2877")),m=Object(p["a"])(f,l,d,!1,null,"e5bc9846",null),v=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",[r("label",[e._v(" Search "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.textSearch,expression:"textSearch"}],attrs:{type:"text"},domProps:{value:e.textSearch},on:{input:function(t){t.target.composing||(e.textSearch=t.target.value)}}})]),r("label",[e._v(" Series "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSeries,expression:"selectedSeries"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSeries=t.target.multiple?r:r[0]}}},e._l(e.series.keys(),(function(t){return r("option",{key:t},[e._v(" "+e._s(e.series[t])+" ")])})),0)]),r("label",[e._v(" MPAA "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMPAAs,expression:"selectedMPAAs"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedMPAAs=t.target.multiple?r:r[0]}}},e._l(e.mpaas.keys(),(function(t){return r("option",{key:t},[e._v(" "+e._s(e.mpaas[t])+" ")])})),0)]),r("label",[e._v(" Genre "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategories,expression:"selectedCategories"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCategories=t.target.multiple?r:r[0]}}},e._l(e.categories.keys(),(function(t){return r("option",{key:t},[e._v(" "+e._s(e.categories[t])+" ")])})),0)]),r("label",[e._v(" Actors "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedActors,expression:"selectedActors"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedActors=t.target.multiple?r:r[0]}}},e._l(e.actors.keys(),(function(t){return r("option",{key:t},[e._v(" "+e._s(e.actors[t])+" ")])})),0)]),r("label",[e._v(" Directors "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDirectors,expression:"selectedDirectors"}],attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDirectors=t.target.multiple?r:r[0]}}},e._l(e.directors.keys(),(function(t){return r("option",{key:t},[e._v(" "+e._s(e.directors[t])+" ")])})),0)]),r("div",{staticClass:"filter"},[r("label",[e._v(" Sort by "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSorting,expression:"selectedSorting"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSorting=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"released"}},[e._v("Date Released")]),r("option",{attrs:{value:"duration"}},[e._v("Duration")]),r("option",{attrs:{value:"imdbRating"}},[e._v("IMBd Rating")]),r("option",{attrs:{value:"watched"}},[e._v("Marshall Rating")]),r("option",{attrs:{value:"metascore"}},[e._v("Metascore")]),r("option",{attrs:{value:"mpaa"}},[e._v("MPAA")]),r("option",{attrs:{value:"title"}},[e._v("Title")])])]),r("button",{staticClass:"button",attrs:{type:"reset"},on:{click:e.resetFilters}},[e._v(" Reset Filters ")])])])},h=[],b={name:"MediaListFilter",props:{categories:{type:Array,required:!0},actors:{type:Array,required:!0},directors:{type:Array,required:!0},mpaas:{type:Array,required:!0},series:{type:Array,required:!0},defaultCategories:{type:Array,required:!0},defaultActors:{type:Array,required:!0},defaultDirectors:{type:Array,required:!0},defaultMPAAs:{type:Array,required:!0},defaultSeries:{type:Array,required:!0},defaultSorting:{type:String,required:!0},defaultSearch:{type:String,required:!1}},computed:{textSearch:{get:function(){return this.defaultSearch},set:function(e){this.$emit("search-query",e)}},selectedCategories:{get:function(){return this.defaultCategories},set:function(e){this.$emit("category-selected",e)}},selectedSeries:{get:function(){return this.defaultSeries},set:function(e){this.$emit("series-selected",e)}},selectedActors:{get:function(){return this.defaultActors},set:function(e){this.$emit("actors-selected",e)}},selectedDirectors:{get:function(){return this.defaultDirectors},set:function(e){this.$emit("directors-selected",e)}},selectedSorting:{get:function(){return this.defaultSorting},set:function(e){this.$emit("sort-selected",e)}},selectedMPAAs:{get:function(){return this.defaultMPAAs},set:function(e){this.$emit("mpaas-selected",e)}}},methods:{resetFilters:function(){this.$emit("reset-filters")}}},_=b,y=(r("7957"),Object(p["a"])(_,g,h,!1,null,"4e43a662",null)),S=y.exports,A={name:"MediaList",components:{MediaListItem:v,MediaListFilter:S},data:function(){return{mediaItems:[],selected:!1,selectedCategories:[],selectedActors:[],selectedDirectors:[],selectedMPAAs:[],selectedSeries:[],selectedSorting:"title",textSearch:""}},methods:{sortSelected:function(e){this.selectedSorting=e},categoriesSelected:function(e){this.selectedCategories=e},actorSelected:function(e){this.selectedActors=e},directorSelected:function(e){this.selectedDirectors=e},mpaaSelected:function(e){this.selectedMPAAs=e},seriesSelected:function(e){this.selectedSeries=e},searchQuery:function(e){this.textSearch=e},clicked:function(e){this.selected=e},resetFilters:function(){this.selectedSorting="title",this.selectedCategories=[],this.selectedActors=[],this.selectedDirectors=[],this.selectedMPAAs=[],this.selectedSeries=[]},fetchMedia:function(){var e="159ArspO_0OYerThEPuQqTkwBZlU-fuKSr-znFqRpwdw",t=1,r="https://spreadsheets.google.com/feeds/cells/GSHEETCODE/GSHEETNUM/public/full?alt=json";r=r.replace("GSHEETCODE",e).replace("GSHEETNUM",t);var s=this;fetch(r).then((function(e){return e.json()})).then((function(e){s.mediaItems=s.doData(e)}))},doData:function(e){for(var t=[],r=e.feed.entry,s=0,i=0;i<r.length;i++){var a=t[t.length-1],n=r[i],c=n.content.$t,o=n.gs$cell.row;if(o>s){var l=[];l.push(c),t.push(l),s++}else a.push(c)}return t}},created:function(){this.fetchMedia()},computed:{sortedCategories:function(){var e=Object(o["a"])(this.parsedMedia),t=[];return e.forEach((function(e){t=Object(o["a"])(new Set([].concat(Object(o["a"])(t),Object(o["a"])(e.categories))))})),t.sort()},sortedActors:function(){var e=Object(o["a"])(this.parsedMedia),t=[];return e.forEach((function(e){t=Object(o["a"])(new Set([].concat(Object(o["a"])(t),Object(o["a"])(e.actors))))})),t.sort()},sortedDirectors:function(){var e=Object(o["a"])(this.parsedMedia),t=[];return e.forEach((function(e){t=Object(o["a"])(new Set([].concat(Object(o["a"])(t),Object(o["a"])(e.director))))})),t.sort()},sortedMPAAs:function(){var e=Object(o["a"])(this.parsedMedia),t=[];return e.forEach((function(e){t.push(e.mpaa)})),Object(o["a"])(new Set(t)).sort()},sortedSeries:function(){var e=Object(o["a"])(this.parsedMedia),t=[];return e.forEach((function(e){"N/A"!==e.series&&t.push(e.series)})),Object(o["a"])(new Set(t)).sort()},parsedMedia:function(){var e=Object(o["a"])(this.mediaItems);return e.forEach((function(t,r){e[r]={key:r,title:t[0],released:new Date(t[1]),mpaa:t[2],categories:t[3].split(",").map((function(e){return e.trim()})),duration:parseInt(t[4]),excerpt:t[5],director:t[6].split(",").map((function(e){return e.trim()})),actors:t[7].split(",").map((function(e){return e.trim()})),poster:t[8],imdb:t[9],imdbRating:parseFloat(t[10]),imdbRatings:parseInt(t[11]),metascore:parseInt(t[12]),language:t[13],youtube:t[14],series:t[15],seriesNum:t[16],watched:t[17]?t[17]:0}})),e},sortedMedia:function(){var e=this,t=Object(o["a"])(this.parsedMedia);return this.selectedCategories.length&&(t=t.filter((function(t){return t.categories.some((function(t){return e.selectedCategories.includes(t)}))}))),this.selectedActors.length&&(t=t.filter((function(t){return t.actors.some((function(t){return e.selectedActors.includes(t)}))}))),this.selectedDirectors.length&&(t=t.filter((function(t){return t.director.some((function(t){return e.selectedDirectors.includes(t)}))}))),this.selectedMPAAs.length&&(t=t.filter((function(t){return e.selectedMPAAs.includes(t.mpaa)}))),this.selectedSeries.length&&(t=t.filter((function(t){return e.selectedSeries.includes(t.series)}))),this.textSearch.length&&(t=t.filter((function(t){return!t.title.toLowerCase().indexOf(e.textSearch.toLowerCase())}))),t.sort((function(t,r){return"imdbRating"===e.selectedSorting?t.imdbRating>r.imdbRating||t.imdbRating===r.imdbRating&&t.imdbRatings>r.imdbRatings?-1:1:"watched"===e.selectedSorting?t.watched>r.watched||t.watched===r.watched&&(t.imdbRating>r.imdbRating||t.imdbRating===r.imdbRating&&t.imdbRatings>r.imdbRatings)?-1:1:"metascore"===e.selectedSorting?t.metascore>r.metascore||t.metascore===r.metascore&&t.imdbRatings>r.imdbRatings?-1:1:"released"===e.selectedSorting?t[e.selectedSorting]<r[e.selectedSorting]?1:-1:e.selectedSeries.length?t.seriesNum>r.seriesNum?1:-1:t[e.selectedSorting]>r[e.selectedSorting]?1:-1}))}}},w=A,M=(r("af95"),Object(p["a"])(w,n,c,!1,null,"7ff4c99f",null)),O=M.exports,j={name:"App",components:{MediaList:O}},C=j,k=(r("5c0b"),Object(p["a"])(C,i,a,!1,null,null,null)),x=k.exports,R=r("9483");Object(R["a"])("".concat("/vue-media/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var P=r("8c4f");s["a"].use(P["a"]);var D=[],E=new P["a"]({mode:"history",base:"/vue-media/",routes:D}),q=E;s["a"].config.productionTip=!1,new s["a"]({router:q,render:function(e){return e(x)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var s=r("9c0c"),i=r.n(s);i.a},7957:function(e,t,r){"use strict";var s=r("c3e1"),i=r.n(s);i.a},"9c0c":function(e,t,r){},af95:function(e,t,r){"use strict";var s=r("e6e4"),i=r.n(s);i.a},c3e1:function(e,t,r){},e6e4:function(e,t,r){},ef3e:function(e,t,r){"use strict";var s=r("177a"),i=r.n(s);i.a},f02d:function(e,t,r){e.exports=r.p+"img/imdb-logo.40c51136.svg"}});
//# sourceMappingURL=app.a5db0432.js.map